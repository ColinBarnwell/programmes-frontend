status:
    path: /status
    defaults: { _controller: App\Controller\StatusController }

root:
    path: /
    defaults: { _controller: FrameworkBundle:Redirect:redirect, route: home, permanent: true }

home:
    path: /programmes
    defaults: { _controller: App\Controller\HomeController }

find_by_pid:
    path: /programmes/{pid}
    # !find_by_pid is a special value, that shall be converted into an proper
    # _controller value (i.e. a class name) by the FindByPidRouterSubscriber
    defaults: { _controller: '!find_by_pid' }
    requirements: { pid: '[0-9b-df-hj-np-tv-z]{8,15}' }

schedules_home:
    path: /schedules
    defaults: { _controller: App\Controller\SchedulesHomeController }

schedules_by_day:
    path: /schedules/{pid}/{date}
    defaults: { _controller: App\Controller\SchedulesByDayController, date: null }
    requirements: { pid: '[0-9b-df-hj-np-tv-z]{8,15}', date: '\d{4}-\d{2}-\d{2}' }

schedules_by_month:
    path: /schedules/{pid}/{date}
    defaults: { _controller: App\Controller\SchedulesByMonthController }
    requirements: { pid: '[0-9b-df-hj-np-tv-z]{8,15}', date: '\d{4}-\d{2}' }

schedules_by_year:
    path: /schedules/{pid}/{year}
    defaults: { _controller: App\Controller\SchedulesByYearController }
    requirements: { pid: '[0-9b-df-hj-np-tv-z]{8,15}', year: '\d{4}' }

# Labs routes, for testing things

cloud_labs_root:
    path: /programmes/_cloudlabs
    defaults: { _controller: App\Controller\CloudLabsController, action: show }

cloud_labs:
    path: /programmes/_cloudlabs/{action}
    defaults: { _controller: App\Controller\CloudLabsController }

# Include any 3rd party routes. This should be the last thing in the file
_3rd_party:
    resource: routing_3rd_party.yml
