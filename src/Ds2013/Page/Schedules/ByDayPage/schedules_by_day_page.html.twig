{% if not schedules_by_day_page.service.isTv %}
    <div class="g-c-l">
        <div class="schedules-jump island micro">
            <span class="pull--left schedules-jump__title">{{ tr('skip_to') }}: </span>
            <ul class="schedules-jump__links nav nav--piped">
                {% if schedules_by_day_page.onAirBroadcast %}
                    <li>
                        <a href="#on-now">{{ tr('on_air') }}</a>
                    </li>
                {% endif %}
                {% for period_name, broadcast_in_period in schedules_by_day_page.BroadcastsGroupedByPeriodOfDay %}
                    {% if broadcast_in_period %}
                        <li>
                            <a href="#{{ period_name }}">{{ tr('schedules_period_' ~ period_name) }}</a>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>
{% endif %}

<ol class="list-unstyled g-c-l">
    {% set onairshown = false %}
    {% for period_name, broadcast_in_period in schedules_by_day_page.BroadcastsGroupedByPeriodOfDay %}
        <li id="{{ period_name }}" class="schedule-skip-link">
            <h2 class="delta text--shout island--horizontal component">{{ period_name }}</h2>
            <ol class="highlight-box-wrapper">
                {# list of broadcasts in day period #}
                {% for broadcast in broadcast_in_period %}
                    {% set onairattributes = null %}
                    {% if broadcast.isOnAir and not onairshown %}
                        {% set onairattributes = 'id=on-now class=schedule-skip-link-on-now' %}
                        {% set onairshown = true %}
                    {% endif %}
                    <li {{ onairattributes }}>
                        {{ ds2013('broadcast', broadcast, {
                            'highlight_box_classes' : 'highlight-box--list'
                        }) }}
                    </li>
                {% endfor %}
            </ol>
        </li>
    {% endfor %}
</ol>

