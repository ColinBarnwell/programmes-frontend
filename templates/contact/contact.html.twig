{% extends 'base_ds2013.html.twig' %}

{% block title %}{{ meta_context.titlePrefix() }} - {{ tr('contact_us') }}{% endblock %}

{% block page_classes %}programmes-page text-base prog-layout{% endblock %}

{% block body %}
    <div class="grid-wrapper">
        {% if ugcCampaignId is not empty %}
            <div class="grid {% if details is not null %}1/2@bpw2 7/12@bpe{% endif %}">
                <div class="programmes-page--topboxed br-box-page">
                    <div class="prog-layout__primary">
                        <h1>{{ tr('contact_us') }}</h1>
                        <div id="ugc-form" class="component component--box"></div>
                    </div>
                </div>
            </div>
        {% endif %}
        {% if details is not null %}
            <div class="grid {% if ugcCampaignId is not empty %}1/2@bpw2 5/12@bpe{% endif %}">
                <div class="component component--box component--box--secondary">
                    <div class="component__header br-box-highlight">
                        <h2>{{ tr('contact_details') }}</h2>
                    </div>
                    <div class="component__body br-box-subtle">
                        {{ ds2013('contactDetails', details) }}
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}

{% if ugcCampaignId is not empty %}
    {% block javascripts %}
        <script>
            require(
                ['http://www.test.bbc.co.uk/ugcstatic/5.2.0/ugc-js-library.min.js'],
                function(UGCUploadClient) {
                    UGCUploadClient.default({
                        campaignId: '{{ ugcCampaignId }}',
                        formContainer: document.getElementById('ugc-form'),
                        onSuccess: function(data) {
                            console.log(data);
                        },
                        onError: function(error) {
                            console.error(error);
                        },
                        environment: 'test',
                        testMode: true
                    });
                }
            );
        </script>
    {% endblock %}
{% endif %}
